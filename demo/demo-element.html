<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../vaadin-geo-location.html">


<dom-module id="demo-element">
  <template>
    <style>
      :host {
        font-family: sans-serif;
      }
    </style>
  
    <h3>Vaadin-geo-location</h3>

    <vaadin-geo-location on-location="handleLocation"
                        on-error="handleOops"
                        high-accuracy="true"
                        timeout="50000"
                        max-age="1500"
                        watch="true"
                        debounce="300"
    ></vaadin-geo-location>
    <div id="loc">Location is unknown</div>
  </template>

  <script>
    class DemoElement extends Polymer.Element {
      static get is() { return 'demo-element' }
        handleLocation(l) {
            this.$.loc.innerHTML = "(" + l.detail.coords.latitude +
                ", " + l.detail.coords.longitude + ")";
            this.$.loc.classList.remove("error")
        }

        handleOops(e) {
            this.$.loc.innerHTML = e.detail.message;
            this.$.loc.classList.add("error")
        }
    }
    customElements.define(DemoElement.is, DemoElement);
    </script>
</dom-module>
